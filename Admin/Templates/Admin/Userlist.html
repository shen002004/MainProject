{% extends 'Admin/Header.html' %}
{% block content %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Userlist</title>
    <style>
    /* ===== USER LIST PAGE : BOOTSTRAP-LIKE (CSS ONLY) ===== */

    body {
        background-color: #aac5e0;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }

    h2.editprofile-title {
        margin-top: 30px;
        color: #0d6efd;
        font-weight: 600;
    }

    form {
        margin-top: 20px;
    }

    /* Tables */
    form table {
        width: 90%;
        margin: 25px auto;
        border-collapse: collapse;
        background: #ffffff;
        border-radius: 0.375rem;
        overflow: hidden;
        box-shadow: 0 0.5rem 1rem rgba(0,0,0,.15);
    }

    /* Remove default borders */
    form table[border] {
        border: none;
    }

    /* Table cells */
    form table td {
        padding: 0.75rem;
        font-size: 0.85rem;
        color: #212529;
        border-bottom: 1px solid #dee2e6;
        text-align: center;
        vertical-align: middle;
    }

    /* Header row */
    form table tr:first-child {
        background-color: #0d6efd;
        color: #ffffff;
        font-weight: 600;
    }

    /* Images */
    form table img {
        border-radius: 6px;
        object-fit: cover;
        border: 1px solid #dee2e6;
    }

    /* Action links */
    table a {
        text-decoration: none;
        font-size: 0.8rem;
        padding: 0.3rem 0.6rem;
        border-radius: 0.375rem;
        margin: 2px;
        display: inline-block;
        transition: all 0.15s ease-in-out;
    }

    /* Accept */
    table a[href*="accept"] {
        background-color: #198754;
        color: #ffffff;
    }

    /* Reject */
    table a[href*="reject"] {
        background-color: #dc3545;
        color: #ffffff;
    }

    table a:hover {
        opacity: 0.85;
        transform: scale(1.05);
    }
</style>

</head>

<body>
        <h2 class="editprofile-title" align="center">USER LIST</h2>
    <form action="" method="post">
        {% csrf_token %}
        <table border="1" align="center">

            <tr>
                <td>SlNo</td>

                <td>Name</td>

                <td>Email</td>

                <td>Contact</td>

                <td>Address</td>

                <td>District</td>

                <td>Place</td>

                <td>Photo</td>

                <td>Action</td>
            </tr>
            {% for i in pending %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{i.user_name}}</td>
                <td>{{i.user_email}}</td>
                <td>{{i.user_contact}}</td>
                <td>{{i.user_address}}</td>
                <td>{{i.place.district.district_name}}</td>
                <td>{{i.place.place_name}}</td>
                <td><img src="{{i.user_photo.url}}" width="80"> </td>
                <td>
                    <a href="{% url 'Admin:acceptuser' i.id %}">Accept</a>
                    <a href="{% url 'Admin:rejectuser' i.id %}">Reject</a>
                </td>
            </tr>
            {% endfor %}
        </table>
        <table border="3" align="center">
            <h2 class="editprofile-title" align="center">ACCEPT</h2>
            <tr>
                <td>SlNo</td>

                <td>Name</td>

                <td>Email</td>

                <td>Contact</td>

                <td>Address</td>

                <td>District</td>

                <td>Place</td>

                <td>Photo</td>

                <td>Action</td>
            </tr>

            {% for i in acceptuser %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{i.user_name}}</td>
                <td>{{i.user_email}}</td>
                <td>{{i.user_contact}}</td>
                <td>{{i.user_address}}</td>
                <td>{{i.place.district.district_name}}</td>
                <td>{{i.place.place_name}}</td>
                <td><img src="{{i.user_photo.url}}" width="80"> </td>
                <td>
                    <a href="{% url 'Admin:rejectuser' i.id %}">Reject</a>
                </td>
            </tr>
            {% endfor %}
        </table>
        <table border="3" align="center">
            <h2 class="editprofile-title" align="center">REJECT</h2>
            <tr>
                <td>SlNo</td>

                <td>Name</td>

                <td>Email</td>

                <td>Contact</td>

                <td>Address</td>

                <td>District</td>

                <td>Place</td>

                <td>Photo</td>

                <td>Action</td>
            </tr>

            {% for i in rejectuser %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{i.user_name}}</td>
                <td>{{i.user_email}}</td>
                <td>{{i.user_contact}}</td>
                <td>{{i.user_address}}</td>
                <td>{{i.place.district.district_name}}</td>
                <td>{{i.place.place_name}}</td>
                <td><img src="{{i.user_photo.url}}" width="80"> </td>
                <td>
                    <a href="{% url 'Admin:acceptuser' i.id %}">Accept</a>
                </td>
            </tr>
            {% endfor %}
        </table>

    </form>
</body>

</html>

{% if msg %}
<script>
    alert("{{msg}}");
    window.location = "{% url 'Admin:Userlist' %}"
</script>
{% endif %}
{% endblock content %}